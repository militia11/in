/**
 * 
 */
package ServerTests;

/**
 * Import Sikuli
 */
import org.sikuli.basics.*;
import org.sikuli.script.*;

/**
 * Import JUnit
 */
import static org.junit.Assert.*;
import org.junit.*;

import java.lang.Thread.State;

import java.util.Scanner;
import static org.junit.Assert.*;

import org.junit.Test;

public class DatabaseSettingsTests {
	//Computer screen object
	private Screen screen;
		
	// Text next to found position
	private String recogniseText;
		
	// Target fields
	private Pattern targetTerminal;	
	private Pattern targetServerApp;
	
	/**
	 * @throws java.lang.Exception
	 */
	@Before
	public void setUp() throws Exception { 
			Settings.OcrTextRead = true;
			Settings.OcrTextSearch = true;	 
            
			screen = new Screen();
            targetTerminal = new Pattern("./images/1441451200391.png");
            targetServerApp = new Pattern("./images/1441451767856.png");
	}

	/**
	 * @throws java.lang.Exception
	 */
	@After
	public void tearDown() throws Exception {
	}
	
	@Test
	public void testInit() throws InterruptedException {
		screen.type("t", KeyModifier.CTRL + KeyModifier.ALT); //openApp("gnome-terminal")
	    
	    
	    
//	    @SuppressWarnings("resource")
//		Scanner userInput = new Scanner(System.in);
//	    System.out.print("Please enter full path to " + "\n" + "zssw.server executable file" + "\n" + "PATH=");
//	    String path = userInput.next();
	    
	    //try {
			//Thread.sleep(50);
		//} catch (InterruptedException e) {
		//	e.printStackTrace();
		//}
		
		try {
			screen.click(targetTerminal);  
		} catch (FindFailed e) {
			System.out.print("Can't find open Terminal");
			fail();
		}
		
		Thread.sleep(50);
		
		screen.type("cat ~/as.txt" + Key.ENTER);	
		//full screen mode
	    screen.type(Key.F11);
		Thread.sleep(50);
		
		try {
			screen.find(targetServerApp);  
		} catch (FindFailed e) {
			System.out.print("Can't run zssw.server. Please check path and make sure executable file exist");
			fail();
		}
//		// "~/Projekty/zssw/zssw.server/"path
		screen.type( "~/Projekty/zssw/zssw.server/" + Key.ENTER );
		screen.type("./zssw.server --verbose"+ Key.ENTER );
		screen.type(Key.ENTER + "TESTS STARTS" + Key.ENTER);
	}

}
